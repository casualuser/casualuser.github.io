%% Autogenerated smb-vm-spa
graph TD
  classDef default fill:#fff,stroke:#333,stroke-width:1px;
  classDef actor fill:#fff,stroke:#333,stroke-width:1px,stroke-dasharray: 5 5;
  classDef compute fill:#ff9900,stroke:#232f3e,stroke-width:1px,color:#232f3e;
  classDef database fill:#3f8624,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef network fill:#8c4fff,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef storage fill:#e05243,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef security fill:#d93025,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef gateway fill:#8c4fff,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef container fill:#d9a741,stroke:#232f3e,stroke-width:1px,color:#fff;

  subgraph server ["SERVER"]
    direction TB
    nginx(("<b>Nginx Gateway</b><br/><i>gateway</i><br/><span style='font-size:0.8em'>Route: /api -> Backend, /* -> <br/>Frontend</span>"))
    class nginx network
    frontend[("<b>Static Assets (SPA)</b><br/><i>storage</i><br/><span style='font-size:0.8em'>HTML/JS/CSS</span>")]
    class frontend storage
    backend("<b>Backend Server</b><br/><i>service</i><br/><span style='font-size:0.8em'>API Logic</span>")
    class backend compute
  end

  %% Orphans
  user(("<b>Browser Client</b><br/><i>actor</i>"))
  class user actor
  db[("<b>Managed Database</b><br/><i>database</i><br/><span style='font-size:0.8em'>High Availability</span>")]
  class db database

  %% Edges
  nginx -.-> frontend
  nginx -.-> backend
  backend -.-> db