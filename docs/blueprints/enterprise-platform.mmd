%% Autogenerated enterprise-platform
graph TD
  classDef default fill:#fff,stroke:#333,stroke-width:1px;
  classDef actor fill:#fff,stroke:#333,stroke-width:1px,stroke-dasharray: 5 5;
  classDef compute fill:#ff9900,stroke:#232f3e,stroke-width:1px,color:#232f3e;
  classDef database fill:#3f8624,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef network fill:#8c4fff,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef storage fill:#e05243,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef security fill:#d93025,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef gateway fill:#8c4fff,stroke:#232f3e,stroke-width:1px,color:#fff;
  classDef container fill:#d9a741,stroke:#232f3e,stroke-width:1px,color:#fff;

  subgraph platform-layer ["PLATFORM-LAYER"]
    direction TB
    argocd("<b>ArgoCD Controller</b><br/><i>gitops</i><br/><span style='font-size:0.8em'>Reconciles State</span>")
    class argocd default
    k8s("<b>K8s API</b><br/><i>orchestrator</i>")
    class k8s default
    opa("<b>Policy (OPA/Kyverno)</b><br/><i>compliance</i><br/><span style='font-size:0.8em'>Admission Control</span>")
    class opa default
    istio(("<b>Service Mesh Control</b><br/><i>network</i><br/><span style='font-size:0.8em'>mTLS & Traffic</span>"))
    class istio network
    obs("<b>Observability</b><br/><i>tools</i><br/><span style='font-size:0.8em'>Metrics/Logs/Traces</span>")
    class obs default
  end

  subgraph app-layer ["APP-LAYER"]
    direction TB
    workload("<b>Business Apps</b><br/><i>container</i>")
    class workload default
  end

  %% Orphans
  dev(("<b>Developer</b><br/><i>actor</i>"))
  class dev actor
  git("<b>Git Repository</b><br/><i>source-control</i>")
  class git default

  %% Edges
  git -.-> dev
  argocd -.-> git
  k8s -.-> opa
  workload -.-> istio
  obs -.-> workload
  obs -.-> k8s